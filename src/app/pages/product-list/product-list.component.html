@if (products$ | async; as products) {
  <div class="background-wrapper">
    <!-- Gradient Overlay -->
    <div class="background-overlay"></div>
  
    <div class="logo-wrapper">
      <img src="/assets/im-bank-logo.png" alt="Logo" class="logo-img">
    </div>
  
    <div class="container">
      <!-- Header -->
      <h2 class="header-title">Product List</h2>
  
      <!-- Add New Product Button -->
      <button mat-button [routerLink]="['/form']" class="add-button">
        <mat-icon>shopping_cart</mat-icon>
        Add New Product
      </button>
      

      <!-- Product Cards -->
      <div class="card-grid">
        @for (product of products; track product.id; let i = $index) {
          <div class="card-wrapper" [@fadeInOut] [style.animation-delay]="i * 0.1 + 's'">
            <div class="product-card">
              <div class="card-content">
                <h3 class="product-name">{{ product.name }}</h3>
                <p class="product-id">ID: {{ product.id }}</p>
                <p class="product-price">{{ product.price | currency:'KES ':'symbol':'1.2-2' }}</p>
              </div>
              <div class="card-actions">
                <button mat-raised-button color="primary" (click)="editProduct(product.id)" class="action-button edit-button">
                  <mat-icon>edit</mat-icon> Edit
                </button>
                <button mat-raised-button color="warn" (click)="deleteProduct(product.id)" class="action-button delete-button">
                  <mat-icon>delete</mat-icon> Delete
                </button>
              </div>
            </div>
          </div>
        }
        @empty {
          <div class="no-products">
            <p class="text-muted">No products available.</p>
          </div>
        }
      </div>
    </div>
  </div>
}
